{"ast":null,"code":"import axios from 'axios';\nconst BASE_URL = 'http://localhost:5000';\n\nfunction createConfig(token) {\n  return {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  };\n}\n\nasync function createUser(user) {\n  await axios.post(`${BASE_URL}/users`, user);\n}\n\nasync function login(data) {\n  const token = await axios.post(`${BASE_URL}/login`, data);\n  return token;\n}\n\nasync function getUser(token) {\n  const config = createConfig(token);\n  const user = await axios.get(`${BASE_URL}/users`, config);\n  return user;\n}\n\nasync function shortenLink(token, link) {\n  const config = createConfig(token);\n  await axios.post(`${BASE_URL}/urls/shorten`, {\n    link\n  }, config);\n}\n\nasync function deleteLink(token, id) {\n  const config = createConfig(token);\n  await axios.delete(`${BASE_URL}/urls/${id}`, config);\n}\n\nconst api = {\n  createUser,\n  login,\n  getUser,\n  shortenLink,\n  deleteLink\n};\nexport default api;","map":{"version":3,"sources":["/home/guilherme/Projetos/shortly/src/services/api.js"],"names":["axios","BASE_URL","createConfig","token","headers","createUser","user","post","login","data","getUser","config","get","shortenLink","link","deleteLink","id","delete","api"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,QAAQ,GAAG,uBAAjB;;AAEA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC3B,SAAO;AACLC,IAAAA,OAAO,EAAE;AACP,uBAAkB,UAASD,KAAM;AAD1B;AADJ,GAAP;AAKD;;AAED,eAAeE,UAAf,CAA0BC,IAA1B,EAAgC;AAC9B,QAAMN,KAAK,CAACO,IAAN,CAAY,GAAEN,QAAS,QAAvB,EAAgCK,IAAhC,CAAN;AACD;;AAED,eAAeE,KAAf,CAAqBC,IAArB,EAA2B;AACzB,QAAMN,KAAK,GAAG,MAAMH,KAAK,CAACO,IAAN,CAAY,GAAEN,QAAS,QAAvB,EAAgCQ,IAAhC,CAApB;AACA,SAAON,KAAP;AACD;;AAED,eAAeO,OAAf,CAAuBP,KAAvB,EAA8B;AAC5B,QAAMQ,MAAM,GAAGT,YAAY,CAACC,KAAD,CAA3B;AAEA,QAAMG,IAAI,GAAG,MAAMN,KAAK,CAACY,GAAN,CAAW,GAAEX,QAAS,QAAtB,EAA+BU,MAA/B,CAAnB;AACA,SAAOL,IAAP;AACD;;AAED,eAAeO,WAAf,CAA2BV,KAA3B,EAAkCW,IAAlC,EAAwC;AACtC,QAAMH,MAAM,GAAGT,YAAY,CAACC,KAAD,CAA3B;AAEA,QAAMH,KAAK,CAACO,IAAN,CAAY,GAAEN,QAAS,eAAvB,EAAuC;AAAEa,IAAAA;AAAF,GAAvC,EAAiDH,MAAjD,CAAN;AACD;;AAED,eAAeI,UAAf,CAA0BZ,KAA1B,EAAiCa,EAAjC,EAAqC;AACnC,QAAML,MAAM,GAAGT,YAAY,CAACC,KAAD,CAA3B;AAEA,QAAMH,KAAK,CAACiB,MAAN,CAAc,GAAEhB,QAAS,SAAQe,EAAG,EAApC,EAAuCL,MAAvC,CAAN;AACD;;AAED,MAAMO,GAAG,GAAG;AACVb,EAAAA,UADU;AAEVG,EAAAA,KAFU;AAGVE,EAAAA,OAHU;AAIVG,EAAAA,WAJU;AAKVE,EAAAA;AALU,CAAZ;AAQA,eAAeG,GAAf","sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'http://localhost:5000';\n\nfunction createConfig(token) {\n  return {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  }\n}\n\nasync function createUser(user) {\n  await axios.post(`${BASE_URL}/users`, user);\n}\n\nasync function login(data) {\n  const token = await axios.post(`${BASE_URL}/login`, data);\n  return token;\n}\n\nasync function getUser(token) {\n  const config = createConfig(token);\n\n  const user = await axios.get(`${BASE_URL}/users`, config);\n  return user;\n}\n\nasync function shortenLink(token, link) {\n  const config = createConfig(token);\n\n  await axios.post(`${BASE_URL}/urls/shorten`, { link }, config);\n}\n\nasync function deleteLink(token, id) {\n  const config = createConfig(token);\n\n  await axios.delete(`${BASE_URL}/urls/${id}`, config);\n}\n\nconst api = {\n  createUser,\n  login,\n  getUser,\n  shortenLink,\n  deleteLink\n}\n\nexport default api;"]},"metadata":{},"sourceType":"module"}